{
  "examples": {
    "simple_public_api": {
      "name": "JSONPlaceholder (Test API - No Auth)",
      "careers_url": "https://jsonplaceholder.typicode.com/posts",
      "source_type": "api",
      "parser_hint": {
        "v": 1,
        "base_url": "https://jsonplaceholder.typicode.com",
        "path": "/posts",
        "method": "GET",
        "auth": {
          "type": "none"
        },
        "headers": {},
        "query": {
          "_limit": 10
        },
        "pagination": {
          "type": "offset",
          "offset_param": "_start",
          "limit_param": "_limit",
          "page_size": 10,
          "max_pages": 1
        },
        "data_path": "$",
        "map": {
          "title": "title",
          "description_snippet": "body"
        },
        "success_codes": [200]
      }
    },
    "api_with_query_auth": {
      "name": "API with Query Parameter Auth",
      "careers_url": "https://api.example.com/v1/jobs",
      "source_type": "api",
      "parser_hint": {
        "v": 1,
        "base_url": "https://api.example.com",
        "path": "/v1/jobs",
        "method": "GET",
        "auth": {
          "type": "query",
          "query_name": "api_key",
          "token": "{{SECRET:EXAMPLE_API_KEY}}"
        },
        "headers": {},
        "query": {
          "limit": 50
        },
        "pagination": {
          "type": "offset",
          "offset_param": "offset",
          "limit_param": "limit",
          "page_size": 50,
          "max_pages": 10
        },
        "data_path": "data.items",
        "map": {
          "title": "title",
          "apply_url": "url",
          "location_raw": "location",
          "description_snippet": "description"
        },
        "success_codes": [200]
      },
      "env_vars": {
        "EXAMPLE_API_KEY": "your-actual-api-key-here"
      }
    },
    "api_with_bearer_auth": {
      "name": "API with Bearer Token",
      "careers_url": "https://api.example.com/jobs",
      "source_type": "api",
      "parser_hint": {
        "v": 1,
        "base_url": "https://api.example.com",
        "path": "/jobs",
        "method": "GET",
        "auth": {
          "type": "bearer",
          "token": "{{SECRET:API_TOKEN}}"
        },
        "headers": {
          "Accept": "application/json"
        },
        "query": {},
        "pagination": {
          "type": "page",
          "page_param": "page",
          "limit_param": "per_page",
          "page_size": 25,
          "max_pages": 20
        },
        "data_path": "results",
        "map": {
          "title": "job_title",
          "apply_url": "application_url",
          "location_raw": "location.name",
          "description_snippet": "description"
        },
        "success_codes": [200]
      },
      "env_vars": {
        "API_TOKEN": "your-bearer-token-here"
      }
    },
    "api_with_post": {
      "name": "API with POST Method",
      "careers_url": "https://api.example.com/v1/jobs/search",
      "source_type": "api",
      "parser_hint": {
        "v": 1,
        "base_url": "https://api.example.com",
        "path": "/v1/jobs/search",
        "method": "POST",
        "auth": {
          "type": "bearer",
          "token": "{{SECRET:API_TOKEN}}"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "query": {},
        "body": {
          "profile": "list",
          "limit": 100,
          "offset": 0
        },
        "pagination": {
          "type": "offset",
          "limit_param": "limit",
          "offset_param": "offset",
          "page_size": 100,
          "max_pages": 10
        },
        "data_path": "data",
        "map": {
          "title": "title",
          "apply_url": "url"
        },
        "success_codes": [200, 201]
      },
      "env_vars": {
        "API_TOKEN": "your-bearer-token-here"
      }
    },
    "reliefweb_jobs": {
      "name": "ReliefWeb Jobs API",
      "careers_url": "https://api.reliefweb.int/v1/jobs",
      "source_type": "api",
      "parser_hint": {
        "v": 1,
        "base_url": "https://api.reliefweb.int",
        "path": "/v1/jobs",
        "method": "POST",
        "auth": {
          "type": "none"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "query": {},
        "body": {
          "appname": "aidjobs",
          "profile": "list",
          "query": {
            "value": "status:open"
          },
          "limit": 100,
          "offset": 0,
          "fields": {
            "include": [
              "id",
              "title",
              "url",
              "country",
              "city",
              "theme",
              "experience",
              "date",
              "body-html"
            ]
          }
        },
        "pagination": {
          "type": "offset",
          "offset_param": "offset",
          "limit_param": "limit",
          "page_size": 100,
          "max_pages": 10,
          "until_empty": true
        },
        "since": {
          "enabled": true,
          "field": "query.value",
          "format": "iso8601",
          "operator": ">=",
          "fallback_days": 30
        },
        "data_path": "data",
        "map": {
          "id": "id",
          "title": "fields.title",
          "apply_url": "fields.url",
          "location_raw": "fields.city[0]",
          "country": "fields.country[0].name",
          "country_iso": "fields.country[0].iso3",
          "mission_tags": "fields.theme[].name",
          "level_norm": "fields.experience[0].name",
          "deadline": "fields.date.closing",
          "description_snippet": "fields.body-html"
        },
        "success_codes": [200]
      },
      "note": "This is a complex example. Field mapping works in Phase 1, but transforms (map_table, lower) will be available in Phase 2."
    }
  },
  "testing_steps": [
    "1. Copy the parser_hint JSON for the example you want to test",
    "2. Go to /admin/sources in the frontend",
    "3. Click 'Add Source'",
    "4. Select source_type: 'api'",
    "5. Paste the careers_url",
    "6. Paste the parser_hint JSON (as a string, minified or pretty-printed)",
    "7. Set any required environment variables in your backend",
    "8. Click 'Create Source'",
    "9. Click 'Test' button to validate the configuration",
    "10. Click 'Simulate' button to see normalized jobs (first 3)",
    "11. Click 'Run Crawl' to fetch and store jobs",
    "12. Check /admin/crawl for crawl logs",
    "13. Verify jobs appear in database and search results"
  ]
}

